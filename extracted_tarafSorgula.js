tarafSorgula:async function(e,a,t=!1){let r=await UYAP_EXT.TOOL.findDosya(a,e),i=r.dosyalar_table_name;if(UYAP_EXT.TOOL.tasksInterrupts.mainqueue.tasksInterrupts)return UYAP_EXT.TOOL._user.interrupts.sorgulaTaraf[i][e]=await UYAP_EXT.DB.connection.select("",{method:"POST",body:{from:"dosyalar",where:[["AND","dosyalar.hash","=",e],["AND","dosyalar.is_taraf_aktif","istrue",!0]]}}),UYAP_EXT.TOOL.user=UYAP_EXT.TOOL._user,!1;if(t){let e=Object.values(UYAP_EXT.TOOL.tasksRequests.mainqueue);for(let a=0;a<e.length;a++)Array.isArray(e[a])?e[a]=[]:e[a].reject()}let l,n=Math.floor(65536*(1+Math.random())).toString(16).substring(1);return UYAP_EXT.TOOL.tasksRequests.tarafqueue.sira.push(n),UYAP_EXT.TOOL.tasksRequests.tarafqueue.sira.length>1&&(l=UYAP_EXT.TOOL.tasksRequests.tarafqueue.sira[UYAP_EXT.TOOL.tasksRequests.tarafqueue.sira.length-2]),UYAP_EXT.TOOL.tasksRequests.tarafqueue[n]=new Promise((async function(e,a){try{l&&await UYAP_EXT.TOOL.tasksRequests.tarafqueue[l];let a=await UYAP_EXT.TOOL.makeRequest("/dosya_taraf_bilgileri_brd.ajx",JSON.stringify({dosyaId:r.dosyalar_dosyaId_tam}),null,null,"application/json; charset=utf-8","POST",r).promise;await Promise.allSettled(Object.values(UYAP_EXT.DB.queue.taraf)),e(a.success)}finally{delete UYAP_EXT.TOOL.tasksRequests.tarafqueue[n]}})),UYAP_EXT.TOOL.tasksRequests.tarafqueue[n]},sorgulaTaraflar:function(){let e;UYAP_EXT.TOOL.tasksRequests.mainqueue.sira.push("sorgulaTaraflar"),UYAP_EXT.TOOL.tasksRequests.mainqueue.sira.length>1&&(e=UYAP_EXT.TOOL.tasksRequests.mainqueue.sira[UYAP_EXT.TOOL.tasksRequests.mainqueue.sira.length-2]);let a=null,t=null,r=!0,i=new Promise((async function(i,l){a=i,t=l,e&&await UYAP_EXT.TOOL.tasksRequests.mainqueue[e],UYAP_EXT.TOOL._user.interrupts.sorgulaTaraf.cbsdosyalar={},UYAP_EXT.TOOL.user=UYAP_EXT.TOOL._user;let n=Object.keys(UYAP_EXT.TOOL._user.interrupts.sorgulaTaraf);for(let e=0;e<n.length&&r;e++){let a=Object.keys(UYAP_EXT.TOOL._user.interrupts.sorgulaTaraf[n[e]]);for(let t=0;t<a.length&&r;t++)UYAP_EXT.DIALOG.toastr.downCenter.show({value:"yenitaraflarsorgulaniyor",text:"Dosyalarınızdaki taraf değişiklikleri sorgulanıyor ("+(a.length-t)+")\n(İşlemlerinize Devam Edebilirsiniz)"}),await new Promise(((e,r)=>{setTimeout((()=>{e()}),Math.abs(Math.floor(5e3-4800/a.length*(t+1))))})),await UYAP_EXT.TOOL.tasksRequests.tarafSorgula(UYAP_EXT.TOOL._user.interrupts.sorgulaTaraf[n[e]][a[t]].hash)}i(!0)})).catch((()=>{r=!1})).finally((()=>{UYAP_EXT.DIALOG.toastr.downCenter.hide({value:"yenitaraflarsorgulaniyor"}),delete UYAP_EXT.TOOL.tasksRequests.mainqueue.sorgulaTaraflar}));return UYAP_EXT.TOOL.tasksRequests.mainqueue.sorgulaTaraflar={resolve:a,reject:t,promise:i},{resolve:a,reject:t,promise:i}},sorgulaTebligatlar:function(){let e;UYAP_EXT.TOOL.tasksRequests.mainqueue.sira.push("sorgulaTebligatlar"),UYAP_EXT.TOOL.tasksRequests.mainqueue.sira.length>1&&(e=UYAP_EXT.TOOL.tasksRequests.mainqueue.sira[UYAP_EXT.TOOL.tasksRequests.mainqueue.sira.length-2]);let a=null,t=null,r=!0,i=new Promise((async function(r,i){async function l(){if(UYAP_EXT.TOOL._user.help.takip.menu.menu_item_tebligat_kontrol_et){if(new Date-new Date(UYAP_EXT.TOOL._user.help.takip.menu.menu_item_tebligat_kontrol_et.tarih)>288e5){UYAP_EXT.TOOL._user.help.takip.menu.menu_item_tebligat_kontrol_et.tarih=new Date(0),UYAP_EXT.TOOL.user=UYAP_EXT.TOOL._user;let e={from:"evraklar",where:[["AND","tebligatlar.isLastState","=",0],["AND","tebligatlar.gorulmemis","istrue",!0],["AND","evraklar.is_aktif","istrue",!0],["AND","evraklar.anaEvrakId","=",0]],join:[["JOIN","tebligatlar",[["evraklar.evrakId","tebligatlar.evrakId"],["evraklar.ana_dosyaId","tebligatlar.dosyaId"]]]],orderby:[["evraklar.sistemeGonderildigiTarih","DESC"],["evraklar.onaylandigiTarih","DESC"],["evraklar.created_tarihi","DESC"]]},a=await UYAP_EXT.DB.connection.select("",{method:"POST",body:e});for(let e=0;e<a.length;e++)if(UYAP_EXT.DIALOG.toastr.downCenter.show({value:"gunluktebligatlarsorgulaniyor",text:"Tebligatlarınızdaki günlük değişikliklikler sorgulanıyor ("+(a.length-e)+")\n(Diğer İşlemlerinize Devam Edebilirsiniz)"}),1==a[e].tebligatlar_eTebligat||"true"==a[e].tebligatlar_eTebligat){let t=UYAP_EXT.DB.tebligatCheck.tebligatState(a[e]);t.tebligatlar_isLastState!=a[e].tebligatlar_isLastState&&UYAP_EXT.DB.tebligatCheck.toastr.show(t)}else await UYAP_EXT.DB.tebligatCheck.default([a[e]],!1,!1).promise;UYAP_EXT.TOOL._user.help.takip.menu.menu_item_tebligat_kontrol_et.tarih=new Date,UYAP_EXT.TOOL.user=UYAP_EXT.TOOL._user}return!0}UYAP_EXT.TOOL._user.help.takip.menu.menu_item_tebligat_kontrol_et={count:1,tarih:new Date},UYAP_EXT.TOOL.user=UYAP_EXT.TOOL._user,l()}async function n(){if(new Date-new Date(UYAP_EXT.TOOL._user.help.takip.menu.menu_item_tebligat_kontrol_et.tarih)>288e5){UYAP_EXT.TOOL._user.help.takip.menu.menu_item_tebligat_kontrol_et.tarih=new Date(0),UYAP_EXT.TOOL.user=UYAP_EXT.TOOL._user;let e={from:"harici_tebligatlar",where:[["AND","harici_tebligatlar.isLastState","=",0]]},a=await UYAP_EXT.DB.connection.select("",{method:"POST",body:e});for(let e=0;e<a.length;e++)UYAP_EXT.DIALOG.toastr.downCenter.show({value:"gunluktebligatlarsorgulaniyor",text:"Harici ebligatlarınızdaki günlük değişikliklikler sorgulanıyor ("+(a.length-e)+")\n(Diğer İşlemlerinize Devam Edebilirsiniz)"}),await UYAP_EXT.DB.tebligatCheck.askPTT([a[e]],"harici_tebligatlar");UYAP_EXT.TOOL._user.help.takip.menu.menu_item_tebligat_kontrol_et.tarih=new Date,UYAP_EXT.TOOL.user=UYAP_EXT.TOOL._user}return!0}a=r,t=i,e&&await UYAP_EXT.TOOL.tasksRequests.mainqueue[e];let o=new Date;o.setMonth(o.getMonth()-3);let s={from:"evraklar",fields:["evraklar.*"],where:[["AND","evraklar.sistemeGonderildigiTarih",">",o],["AND","evraklar.tur","in",["Açık Tebligat","Kapalı Tebligat"]],["AND","evraklar.is_aktif","istrue",!0],["AND","evraklar.anaEvrakId","=",0],["AND","tebligatlar.created_tarihi","isnull",null]],join:[["LEFT_OUTER_JOIN","tebligatlar",[["evraklar.evrakId","tebligatlar.evrakId"],["evraklar.ana_dosyaId","tebligatlar.dosyaId"]]]],orderby:[["evraklar.sistemeGonderildigiTarih","DESC"],["evraklar.onaylandigiTarih","DESC"],["evraklar.created_tarihi","DESC"]]},d=await UYAP_EXT.DB.connection.select("",{method:"POST",body:s});for(let e=0;e<d.length;e++){UYAP_EXT.DIALOG.toastr.downCenter.show({value:"tebligatlarsorgulaniyor",text:"Yeni tespit edilen tebligatlarınız sorgulanıyor ("+(d.length-e)+")\n(İşlemlerinize Devam Edebilirsiniz)"}),await UYAP_EXT.DB.tebligatCheck.default([d[e]],!1,!1).promise;let a={from:"tebligatlar",where:[["AND","tebligatlar.eTebligat","istrue",!0],["AND","tebligatlar.gorulmemis","istrue",!0],["AND","tebligatlar.dosyaId","=",d[e].evraklar_ana_dosyaId],["AND","tebligatlar.evrakId","=",d[e].evraklar_evrakId]]},t=await UYAP_EXT.DB.connection.select("",{method:"POST",body:a});if(t.length>0&&(1==t[0].tebligatlar_eTebligat||"true"==t[0].tebligatlar_eTebligat)){let e=UYAP_EXT.DB.tebligatCheck.tebligatState(t[0]);e.tebligatlar_isLastState!=t[0].tebligatlar_isLastState&&UYAP_EXT.DB.tebligatCheck.toastr.show(e)}}await l(),await n(),r(!0)})).catch((()=>{r=!1})).finally((()=>{UYAP_EXT.DIALOG.toastr.downCenter.hide({value:"gunluktebligatlarsorgulaniyor"}),UYAP_EXT.DIALOG.toastr.downCenter.hide({value:"tebligatlarsorgulaniyor"}),delete UYAP_EXT.TOOL.tasksRequests.mainqueue.sorgulaTebligatlar}));return UYAP_EXT.TOOL.tasksRequests.mainqueue.sorgulaTebligatlar={resolve:a,reject:t,promise:i},{resolve:a,reject:t,promise:i}},dosyalariEsitle:function(){if(UYAP_EXT.TOOL.tasksInterrupts.mainqueue.tasksInterrupts)return UYAP_EXT.TOOL.tasksRequests.toastr.working(),!1;let e=Object.values(UYAP_EXT.TOOL.tasksRequests.mainqueue);for(let a=0;a<e.length;a++)Array.isArray(e[a])?UYAP_EXT.TOOL.tasksRequests.mainqueue.sira=[]:e[a].reject();UYAP_EXT.TOOL.tasksRequests.mainqueue.sira.push("dosyalariEsitle");let a,t=null,r=null,i=!1,l=new Promise((async function(e,l){t=e,r=l;let n=document.querySelectorAll("[name=menu_item_yeni_dosya_kontrolu_yap] ul input:checked[name=acik]"),o=document.querySelectorAll("[name=menu_item_yeni_dosya_kontrolu_yap] ul input:checked[name=kapali]");if(n.length+o.length==0)return alert("Dosya Durumu Belirtmelisiniz."),!1;if(UYAP_EXT.DIALOG.blockUILogo.show("Yeni Dosyalarınız Bulunuyor","İşlem Uzun Sürebilir","Lütfen İşlem Bitene Kadar Bekleyiniz","body",!1,!0,(e=>{e.target.innerText="İŞLEMİN İPTAL EDİLMESİ BEKLENİYOR...",e.target.disabled=!0,a.reject(),i=!0})),await Promise.allSettled(Object.values(UYAP_EXT.DB.queue.dosya)),n.length>0){UYAP_EXT.MENU.isBadgeOlustur=!1;let e=document.querySelectorAll("[name=menu_item_yeni_dosya_kontrolu_yap] ul input:checked[name=dosyalar]");for(let t=0;t<e.length&&!i;t++)document.getElementById("dialog_ayrinti").innerHTML=e[t].nextElementSibling.innerHTML+" (Açık Dosyalar) ",a=UYAP_EXT.DB.uyapDosyaEsitle(e[t].value,!1),i=!await a.promise;let t=document.querySelectorAll("[name=menu_item_yeni_dosya_kontrolu_yap] ul input:checked[name=cbs]");for(let e=0;e<t.length&&!i;e++)document.getElementById("dialog_ayrinti").innerHTML=t[e].nextElementSibling.innerHTML+" (Açık Dosyalar) ",a=UYAP_EXT.DB.uyapCbsDosyaEsitle(0),i=!await a.promise;UYAP_EXT.MENU.isBadgeOlustur=!0}if(o.length>0){UYAP_EXT.MENU.isBadgeOlustur=!1;let e=document.querySelectorAll("[name=menu_item_yeni_dosya_kontrolu_yap] ul input:checked[name=dosyalar]");for(let t=0;t<e.length&&!i;t++)document.getElementById("dialog_ayrinti").innerHTML=e[t].nextElementSibling.innerHTML+" (Kapalı Dosyalar) ",a=UYAP_EXT.DB.uyapDosyaEsitle(e[t].value,!0),i=!await a.promise;let t=document.querySelectorAll("[name=menu_item_yeni_dosya_kontrolu_yap] ul input:checked[name=cbs]");for(let e=0;e<t.length&&!i;e++)document.getElementById("dialog_ayrinti").innerHTML=t[e].nextElementSibling.innerHTML+" (Kapalı Dosyalar) ",a=UYAP_EXT.DB.uyapCbsDosyaEsitle(1),i=!await a.promise;UYAP_EXT.MENU.isBadgeOlustur=!0}let s=document.querySelectorAll("[name=menu_item_yeni_dosya_kontrolu_yap] ul input:checked[name=danistay]");for(let e=0;e<s.length&&!i;e++)UYAP_EXT.MENU.isBadgeOlustur=!1,document.getElementById("dialog_